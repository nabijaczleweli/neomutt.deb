From: Antonio Radici <antonio@debian.org>
Date: Thu, 27 Feb 2014 16:06:15 +0100
Subject: use_usr_bin_editor

Even if EDITOR is not set, mutt will always use /usr/bin/editor
(which is set by update-alternatives), rather than falling back
to vi.
---
 init.c        | 2 ++
 mutt_config.c | 2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

diff --git a/init.c b/init.c
index 5c3ec1a..62b090a 100644
--- a/init.c
+++ b/init.c
@@ -806,6 +806,8 @@ int mutt_init(struct ConfigSet *cs, bool skip_sys_rc, struct ListHead *commands)
   const char *env_ed = mutt_str_getenv("VISUAL");
   if (!env_ed)
     env_ed = mutt_str_getenv("EDITOR");
+    if (!env_ed)
+      env_ed = "/usr/bin/editor";
   if (env_ed)
   {
     cs_str_string_set(cs, "editor", env_ed, NULL);
diff --git a/mutt_config.c b/mutt_config.c
index 7037633..c568f93 100644
--- a/mutt_config.c
+++ b/mutt_config.c
@@ -1036,7 +1036,7 @@ struct ConfigDef MuttVars[] = {
   ** .pp
   ** This variable specifies which editor is used by NeoMutt.
   ** It defaults to the value of the \fC$$$VISUAL\fP, or \fC$$$EDITOR\fP, environment
-  ** variable, or to the string "vi" if neither of those are set.
+  ** variable, or to the string "/usr/bin/editor" if neither of those are set.
   ** .pp
   ** The \fC$$editor\fP string may contain a \fI%s\fP escape, which will be replaced by the name
   ** of the file to be edited.  If the \fI%s\fP escape does not appear in \fC$$editor\fP, a
